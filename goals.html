<!DOCTYPE html>
<html>
  <head>
    <title>Weekly: Goals</title>
    <link rel="stylesheet" href="Weekly.css">
  </head>
  <body>

    <div style="display: grid;">
      <p class="title">Goals</p>
    </div>

    <div class="goalsHTML">
    </div>

    <div style="
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    ">
      <div></div>
      <input type="text" class="input-js" placeholder="What are your goals?" style="box-shadow: none;">
      <div>
        <button style="
          margin:5px;
          background-color: purple;
          border: none;
          color: white;
          padding: 5px 10px;
          border-radius: 10px;
          " onclick="addGoal()">Add</button>
          <button style="
          background-color: red;
          border: none;
          color: white;
          padding: 5px 10px;
          border-radius: 10px;
          " onclick="clearAll()">Clear All</button>
      </div>
    </div>
    
    <script>
      goalsSelect = document.querySelector('.goalsHTML');
      let goalsArray = JSON.parse(localStorage.getItem('goalsArray')); //stores every goal inputed by user

      //if goals array is not in local storage, create empty array
      if(!goalsArray) {
        goalsArray = [];
      }

      loadSaveData();
      console.log(goalsArray);

      function addGoal() {
        inputBox = document.querySelector('.input-js');
        console.log(inputBox.value);

        goalsSelect.innerHTML += `<p style="text-align: center;">${inputBox.value}</p>`;

        goalsArray.push(inputBox.value);
        localStorage.setItem('goalsArray', JSON.stringify(goalsArray));

        inputBox.value = '';
      }

      function clearAll() {
        goalsSelect.innerHTML = '';
        goalsArray = [];
        localStorage.setItem('goalsArray', JSON.stringify(goalsArray));
      }

      function loadSaveData() {
        for(i = 0; i < goalsArray.length; i++)
        goalsSelect.innerHTML += `<p style="text-align: center;">${goalsArray[i]}</p>`;
      }
    </script>

  </body>
</html>