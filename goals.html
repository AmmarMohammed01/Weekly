<!--<input type="text" class="input-js" placeholder="What are your goals?" style="background-color: rgba(255, 255, 255, 0); outline:none; text-align: left;">-->
<!--
  <button style="
          margin:5px;
          background-color: rgb(0, 60, 151);
          border: none;
          color: white;
          padding: 5px 10px;
          border-radius: 10px;
          " onclick="addGoal()">Add</button>
        -->
<!--
<button style="
          margin: 5px;
          background-color: red;
          border: none;
          color: white;
          padding: 5px 10px;
          border-radius: 10px;
          " onclick="clearAll()">Clear All</button>

-->


<!DOCTYPE html>
<html>
  <head>
    <title>Weekly: Goals</title>
    <link rel="stylesheet" href="Weekly.css">
  </head>
  <body>

    <div style="display: grid;">
      <p class="title">Goals</p>
    </div>

    <div class="goalsHTML">
    </div>

    <div style="display:grid; grid-template-columns: 1fr 1fr 1fr;">
      <div></div>
      <div>
        <div style="display:flex; justify-content: center; background-color: rgba(255, 255, 255, 0.3); place-items: center; border-radius: 10px;">
          <div style="width: 230px;">
            <input type="text" class="input-js" placeholder="What are your goals?" style="background-color: rgba(255, 255, 255, 0); outline:none; text-align: left; margin:auto;">
            <!--margin:auto used to center input box, as place items center only worked for buttons-->
          </div>
            
          <div>
            <button style="margin:10px 5px; background-color: rgb(0, 60, 151); border: none; color: white; padding: 5px 10px; border-radius: 10px;" onclick="addGoal()">Add</button>
          </div>
    
          <div>
            <button style="margin: 10px 5px; background-color: red; border: none; color: white; padding: 5px 10px; border-radius: 10px; " onclick="clearAll()">Clear All</button>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      goalsSelect = document.querySelector('.goalsHTML');
      let goalsArray = JSON.parse(localStorage.getItem('goalsArray')); //stores every goal inputed by user

      //if goals array is not in local storage, create empty array
      if(!goalsArray) {
        goalsArray = [];
      }

      loadSaveData();
      console.log(goalsArray);

      function addGoal() {
        inputBox = document.querySelector('.input-js');
        console.log(inputBox.value);

        goalsSelect.innerHTML += `<p style="text-align: center;">${inputBox.value}</p>`;

        goalsArray.push(inputBox.value);
        localStorage.setItem('goalsArray', JSON.stringify(goalsArray));

        inputBox.value = '';
      }

      function clearAll() {
        goalsSelect.innerHTML = '';
        goalsArray = [];
        localStorage.setItem('goalsArray', JSON.stringify(goalsArray));
      }

      function loadSaveData() {
        for(i = 0; i < goalsArray.length; i++)
        goalsSelect.innerHTML += `<p style="text-align: center;">${goalsArray[i]}</p>`;
      }
    </script>

  </body>
</html>